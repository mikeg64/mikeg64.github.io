<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hermes-docs: src/init_mesh.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hermes-docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('init__mesh_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">init_mesh.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>General initialization of the nested mesh hierarchy.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="copyright_8h_source.html">copyright.h</a>&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="defs_8h_source.html">defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="athena_8h_source.html">athena.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="globals_8h_source.html">globals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="prototypes_8h_source.html">prototypes.h</a>&quot;</code><br />
</div>
<p><a href="init__mesh_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a916f9c7c3347abd0ff4e1acc00cd0f27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="init__mesh_8c.html#a916f9c7c3347abd0ff4e1acc00cd0f27">init_mesh</a> (<a class="el" href="struct_mesh_s.html">MeshS</a> *pM)</td></tr>
<tr class="memdesc:a916f9c7c3347abd0ff4e1acc00cd0f27"><td class="mdescLeft">&#160;</td><td class="mdescRight">General initialization of the nested mesh hierarchy. <br  />
  <a href="init__mesh_8c.html#a916f9c7c3347abd0ff4e1acc00cd0f27">More...</a><br /></td></tr>
<tr class="separator:a916f9c7c3347abd0ff4e1acc00cd0f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16d281ef7a56861fdf7da0f960086ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="init__mesh_8c.html#aa16d281ef7a56861fdf7da0f960086ef">get_myGridIndex</a> (<a class="el" href="struct_domain_s.html">DomainS</a> *pD, const int myID, int *pi, int *pj, int *pk)</td></tr>
<tr class="memdesc:aa16d281ef7a56861fdf7da0f960086ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches GData[][][] array to find i,j,k components of block being updated on this processor. <br  />
  <a href="init__mesh_8c.html#aa16d281ef7a56861fdf7da0f960086ef">More...</a><br /></td></tr>
<tr class="separator:aa16d281ef7a56861fdf7da0f960086ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>General initialization of the nested mesh hierarchy. </p>
<p>PURPOSE: General initialization of the nested mesh hierarchy. Works for both nested and uniform meshes, on single and multiple processors. Each Mesh contains one or more levels, each level contains one or more Domains (regions with the same grid resolution), and depending on the parallelization each Domain contains one or more Grids (however there can never be more than one Grid per Domain being updated on any given processor). In the Mesh, this hierarchy is stored as an "array" of Domains indexed as Domain[nlevel][ndomain]. Since ndomain is different for each level, this "array" is not square, (really it is nlevel pointers, each to ndomain[nlevel] Domains).</p>
<p>Note for a uniform mesh on a single processor:</p><ul>
<li># of Mesh levels = # of Domains = # of Grids = 1 For a uniform mesh on multiple processors:</li>
<li># of Mesh levels = # of Domains = 1; # of Grids = # of processors For a nested mesh on a single processor:</li>
<li># of Domains = # of Grids</li>
</ul>
<p>For a nested mesh on multiple processors, there is no relationship between these quantaties in general.</p>
<p>This function:</p><ul>
<li>(1) sets properties of each Domain read from &lt;domain&gt; blocks in input file</li>
<li>(2) allocates and initializes the array of Domains,</li>
<li><p class="startli">(3) divides each Domain into one or more Grids depending on the parallelization.</p>
<p class="startli">This function supercedes init_domain() from v3.2. The <a class="el" href="init__grid_8c.html#a95667109c997592ac508a6f67e34b827" title="Initializes most variables in the Grid structure.">init_grid()</a> function initializes the data in each Grid structure in each Domain, including finding all child and parent Grids with SMR.</p>
</li>
</ul>
<p>CONTAINS PUBLIC FUNCTIONS:</p><ul>
<li><a class="el" href="init__mesh_8c.html#a916f9c7c3347abd0ff4e1acc00cd0f27" title="General initialization of the nested mesh hierarchy.">init_mesh()</a></li>
<li><a class="el" href="init__mesh_8c.html#aa16d281ef7a56861fdf7da0f960086ef" title="Searches GData[][][] array to find i,j,k components of block being updated on this processor.">get_myGridIndex()</a> <br  />
</li>
</ul>
<p>PRIVATE FUNCTION PROTOTYPES:</p><ul>
<li>dom_decomp() - calls auto domain decomposition functions</li>
<li>dom_decomp_2d() - finds optimum domain decomposition in 2D</li>
<li>dom_decomp_3d() - finds optimum domain decomposition in 3D <br  />
 </li>
</ul>

<p class="definition">Definition in file <a class="el" href="init__mesh_8c_source.html">init_mesh.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa16d281ef7a56861fdf7da0f960086ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16d281ef7a56861fdf7da0f960086ef">&#9670;&nbsp;</a></span>get_myGridIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_myGridIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_domain_s.html">DomainS</a> *&#160;</td>
          <td class="paramname"><em>pD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>myID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches GData[][][] array to find i,j,k components of block being updated on this processor. <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="init__mesh_8c_source.html#l00833">833</a> of file <a class="el" href="init__mesh_8c_source.html">init_mesh.c</a>.</p>

</div>
</div>
<a id="a916f9c7c3347abd0ff4e1acc00cd0f27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a916f9c7c3347abd0ff4e1acc00cd0f27">&#9670;&nbsp;</a></span>init_mesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_mesh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_mesh_s.html">MeshS</a> *&#160;</td>
          <td class="paramname"><em>pM</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General initialization of the nested mesh hierarchy. <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="init__mesh_8c_source.html#l00084">84</a> of file <a class="el" href="init__mesh_8c_source.html">init_mesh.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="init__mesh_8c.html">init_mesh.c</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
